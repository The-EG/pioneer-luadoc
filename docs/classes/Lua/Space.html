<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Space</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.1 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic397"></a><div class="CTopic TInterface LLua first">
 <div class="CTitle">Space</div>
 <div class="CBody"><p>Various functions to create and find objects in the current physics space.</p></div>
</div>

<a name="Functions"></a><a name="Topic398"></a><div class="CTopic TGroup LLua">
 <div class="CTitle">Functions</div>
</div>

<a name="SpawnShip"></a><a name="Topic399"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">SpawnShip</div>
 <div class="CBody"><p>Create a ship and place it somewhere in space.</p><pre>ship = Space.SpawnShip(type, min, max, hyperspace)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">type</td><td class="CDLDefinition"><p>the name of the ship</p></td></tr><tr><td class="CDLEntry">min</td><td class="CDLDefinition"><p>minimum distance from the system centre (usually the primary star) to place the ship, in AU</p></td></tr><tr><td class="CDLEntry">max</td><td class="CDLDefinition"><p>maximum distance to place the ship</p></td></tr><tr><td class="CDLEntry">hyperspace</td><td class="CDLDefinition"><p>optional table containing hyperspace entry information. If this is provided the ship will not spawn directly. Instead, a hyperspace cloud will be created that the ship will exit from. The table contains two elements, a <a href="../../index.html#LuaClass:SystemPath" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,303);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SystemPath</a> for the system the ship is travelling from, and the due date/time that the ship should emerge from the cloud.&nbsp; In this case min and max arguments are ignored.</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">ship</td><td class="CDLDefinition"><p>a <a href="../../index.html#LuaClass:Ship" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Ship</a> object for the new ship</p></td></tr></table><div class="CHeading">Examples</div><pre>-- spawn a ship 5-6AU from the system centre<br />local ship = Ship.Spawn(&quot;eagle_lrf&quot;, 5, 6)</pre><pre>-- spawn a ship in the ~11AU hyperspace area and make it appear that it<br />-- came from Sol and will arrive in ten minutes<br />local ship = Ship.Spawn(<br />    &quot;flowerfairy&quot;, 9, 11,<br />    { SystemPath:New(0,0,0), Game.time + 600 }<br />)</pre><div class="CHeading">Availability</div><p>alpha 10</p><div class="CHeading">Status</div><p>experimental</p></div>
</div>

<a name="SpawnShipNear"></a><a name="Topic400"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">SpawnShipNear</div>
 <div class="CBody"><p>Create a ship and place it in space near the given <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a>.</p><pre>ship = Space.SpawnShip(type, body, min, max, hyperspace)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">type</td><td class="CDLDefinition"><p>the name of the ship</p></td></tr><tr><td class="CDLEntry">body</td><td class="CDLDefinition"><p>the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> near which the ship should be spawned</p></td></tr><tr><td class="CDLEntry">min</td><td class="CDLDefinition"><p>minimum distance from the body to place the ship, in Km</p></td></tr><tr><td class="CDLEntry">max</td><td class="CDLDefinition"><p>maximum distance to place the ship</p></td></tr><tr><td class="CDLEntry">hyperspace</td><td class="CDLDefinition"><p>optional table containing hyperspace entry information. If this is provided the ship will not spawn directly. Instead, a hyperspace cloud will be created that the ship will exit from. The table contains two elements, a <a href="../../index.html#LuaClass:SystemPath" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,303);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SystemPath</a> for the system the ship is travelling from, and the due date/time that the ship should emerge from the cloud.</p></td></tr><tr><td class="CDLEntry">velocity</td><td class="CDLDefinition"><p>vector containing the velocity to give to the ship</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">ship</td><td class="CDLDefinition"><p>a <a href="../../index.html#LuaClass:Ship" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Ship</a> object for the new ship</p></td></tr></table><div class="CHeading">Examples</div><pre>-- spawn a ship 10km from the player<br />local ship = Ship.SpawnNear(&quot;viper_police_craft&quot;, Game.player, 10, 10)</pre><pre>-- spawn a ship 10km from the player with the players velocity<br />local ship = Ship.SpawnNear(&quot;viper_police_craft&quot;, Game.player, 10, 10, nil, Game.player:velocity)</pre><div class="CHeading">Availability</div><p>alpha 10</p><div class="CHeading">Status</div><p>experimental</p></div>
</div>

<a name="SpawnShipDocked"></a><a name="Topic401"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">SpawnShipDocked</div>
 <div class="CBody"><p>Create a ship and place it inside the given <a href="../../index.html#LuaClass:SpaceStation" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,350);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SpaceStation</a>.</p><pre>ship = Space.SpawnShipDocked(type, station)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">type</td><td class="CDLDefinition"><p>the name of the ship</p></td></tr><tr><td class="CDLEntry">station</td><td class="CDLDefinition"><p>the <a href="../../index.html#LuaClass:SpaceStation" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,350);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SpaceStation</a> to place the ship inside</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">ship</td><td class="CDLDefinition"><p>a <a href="../../index.html#LuaClass:Ship" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Ship</a> object for the new ship, or nil if there was no space inside the station</p></td></tr></table><div class="CHeading">Availability</div><p>alpha 10</p><div class="CHeading">Status</div><p>stable</p></div>
</div>

<a name="SpawnShipParked"></a><a name="Topic402"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">SpawnShipParked</div>
 <div class="CBody"><p>Create a ship and place it in one of the given <a href="../../index.html#LuaClass:SpaceStation" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,350);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SpaceStation's</a> parking spots.</p><pre>ship = Space.SpawnShipParked(type, station)</pre><p>For orbital stations the parking spots are some distance from the door, out of the path of ships entering and leaving the station. For group stations the parking spots are directly above the station, usually some distance away.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">type</td><td class="CDLDefinition"><p>the name of the ship</p></td></tr><tr><td class="CDLEntry">station</td><td class="CDLDefinition"><p>the <a href="../../index.html#LuaClass:SpaceStation" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,350);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SpaceStation</a> to place the near</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">ship</td><td class="CDLDefinition"><p>a <a href="../../index.html#LuaClass:Ship" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Ship</a> object for the new ship, or nil if there was no space inside the station Availability:</p></td></tr></table><p>alpha 10</p><div class="CHeading">Status</div><p>experimental</p></div>
</div>

<a name="SpawnShipLanded"></a><a name="Topic403"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">SpawnShipLanded</div>
 <div class="CBody"><p>Create a ship and place it landed on the given <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a>.</p><pre>ship = Space.SpawnShipLanded(type, body, lat, long)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">type</td><td class="CDLDefinition"><p>the name of the ship</p></td></tr><tr><td class="CDLEntry">body</td><td class="CDLDefinition"><p>the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> near which the ship should be spawned</p></td></tr><tr><td class="CDLEntry">lat</td><td class="CDLDefinition"><p>latitude in radians (like in custom body defintions)</p></td></tr><tr><td class="CDLEntry">long</td><td class="CDLDefinition"><p>longitude in radians (like in custom body definitions)</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">ship</td><td class="CDLDefinition"><p>a <a href="../../index.html#LuaClass:Ship" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Ship</a> object for the new ship</p></td></tr></table><div class="CHeading">Example</div><pre>-- spawn 16km from L.A. when in Sol system<br />local earth = Space.GetBody(3)<br />local ship = Space.SpawnShipLanded(&quot;viper_police&quot;, earth, math.deg2rad(34.06473923), math.deg2rad(-118.1591568))</pre><div class="CHeading">Availability</div><p>July 2013</p><div class="CHeading">Status</div><p>experimental</p></div>
</div>

<a name="SpawnShipLandedNear"></a><a name="Topic404"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">SpawnShipLandedNear</div>
 <div class="CBody"><p>Create a ship and place it on the surface near the given <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a>.</p><pre>ship = Space.SpawnShipLandedNear(type, body, min, max)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">type</td><td class="CDLDefinition"><p>the name of the ship</p></td></tr><tr><td class="CDLEntry">body</td><td class="CDLDefinition"><p>the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> near which the ship should be spawned. It must be on the ground or close to it, i.e. it must be in the rotating frame of the planetary body.</p></td></tr><tr><td class="CDLEntry">min</td><td class="CDLDefinition"><p>minimum distance from the surface point below the body to place the ship, in Km</p></td></tr><tr><td class="CDLEntry">max</td><td class="CDLDefinition"><p>maximum distance to place the ship</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">ship</td><td class="CDLDefinition"><p>a <a href="../../index.html#LuaClass:Ship" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Ship</a> object for the new ship</p></td></tr></table><div class="CHeading">Example</div><pre>-- spawn a ship 10km from the player<br />local ship = Ship.SpawnShipLandedNear(&quot;viper_police&quot;, Game.player, 10, 10)</pre><div class="CHeading">Availability</div><p>July 2013</p><div class="CHeading">Status</div><p>experimental</p></div>
</div>

<a name="GetBody"></a><a name="Topic405"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">GetBody</div>
 <div class="CBody"><p>Get the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> with the specificed body index.</p><pre>body = Space.GetBody(index)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">index</td><td class="CDLDefinition"><p>the body index</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">body</td><td class="CDLDefinition"><p>the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> object for the requested body, or nil if no such body exists</p></td></tr></table><div class="CHeading">Availability</div><p>alpha 10</p><div class="CHeading">Status</div><p>stable</p></div>
</div>

<a name="GetBodies"></a><a name="Topic406"></a><div class="CTopic TFunction LLua last">
 <div class="CTitle">GetBodies</div>
 <div class="CBody"><p>Get all the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> objects that match the specified filter</p><p>bodies = Space.GetBodies(filter)</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">filter</td><td class="CDLDefinition"><p>an option function. If specificed the function will be called once for each body with the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> object as the only parameter.&nbsp; If the filter function returns true then the <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> will be included in the array returned by <a href="../../index.html#LuaClass:Space:GetBodies" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,406);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >GetBodies</a>, otherwise it will be omitted. If no filter function is specified then all bodies are returned.</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">bodies</td><td class="CDLDefinition"><p>an array containing zero or more <a href="../../index.html#LuaClass:Body" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,640);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Body</a> objects that matched the filter</p></td></tr></table><div class="CHeading">Example</div><pre>-- get all the ground-based stations<br />local stations = Space.GetBodies(function (body)<br />    return body.type == &quot;STARPORT_SURFACE&quot;<br />end)</pre><div class="CHeading">Availability</div><p>alpha 10</p><div class="CHeading">Status</div><p>stable</p></div>
</div>

</body></html>