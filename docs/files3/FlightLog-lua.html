<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FlightLog.lua</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.1 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="FlightLog"></a><a name="Topic72"></a><div class="CTopic TClass LLua first">
 <div class="CTitle">FlightLog</div>
 <div class="CBody"><p>A flight log, containing the last systems and stations visited by the player. Can be used by scripts to find out where the player has been recently.</p></div>
</div>

<a name="FlightLog.Methods"></a><a name="Topic73"></a><div class="CTopic TGroup LLua">
 <div class="CTitle">Methods</div>
</div>

<a name="FlightLog.GetSystemPaths"></a><a name="Topic74"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">GetSystemPaths</div>
 <div id="NDPrototype74" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">GetSystemPaths = <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">maximum</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Returns an iterator returning a SystemPath object for each system visited by the player, backwards in turn, starting with the most recent. If count is specified, returns no more than that many systems.</p><pre>iterator = FlightLog.GetSystemPaths(count)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">count</td><td class="CDLDefinition"><p>Optional. The maximum number of systems to return.</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">iterator</td><td class="CDLDefinition"><p>A function which will generate the paths from the log, returning one each time it is called until it runs out, after which it returns nil. It also returns, as secondary and tertiary values, the game times at shich the system was entered and left.</p></td></tr></table><div class="CHeading">Example</div><p>Print the names and departure times of the last five systems visited by the player</p><pre>for systemp,arrtime,deptime,entry in FlightLog.GetSystemPaths(5) do<br />  print(systemp:GetStarSystem().name, Format.Date(deptime))<br />end</pre></div>
</div>

<a name="FlightLog.UpdateSystemEntry"></a><a name="Topic75"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">UpdateSystemEntry</div>
 <div id="NDPrototype75" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">UpdateSystemEntry = <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">index,</td></tr><tr><td class="PName first last">entry</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Update the free text field in system log.</p><pre>UpdateSystemEntry(index, entry)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">index</td><td class="CDLDefinition"><p>Index in log, 1 being most recent (current) system</p></td></tr><tr><td class="CDLEntry">entry</td><td class="CDLDefinition"><p>New text string to insert instead</p></td></tr></table><div class="CHeading">Example</div><p>Replace the second most recent system record, i.e. the previously visited system.</p><pre>UpdateSystemEntry(2, &quot;At Orion's shoulder, I see attackships on fire&quot;)</pre></div>
</div>

<a name="FlightLog.GetStationPaths"></a><a name="Topic76"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">GetStationPaths</div>
 <div id="NDPrototype76" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">GetStationPaths = <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">maximum</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Returns an iterator returning a SystemPath object for each station visited by the player, backwards in turn, starting with the most recent. If count is specified, returns no more than that many stations.</p><pre>iterator = FlightLog.GetStationPaths(count)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">count</td><td class="CDLDefinition"><p>Optional. The maximum number of systems to return.</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">iterator</td><td class="CDLDefinition"><p>A function which will generate the paths from the log, returning one each time it is called until it runs out, after which it returns nil. It also returns, as two additional value, the game time at which the player docked, and palyer's financial balance.</p></td></tr></table><div class="CHeading">Example</div><p>Print the names and arrival times of the last five stations visited by the player</p><pre>for systemp, deptime, money, entry in FlightLog.GetStationPaths(5) do<br />  print(systemp:GetSystemBody().name, Format.Date(deptime))<br />end</pre></div>
</div>

<a name="FlightLog.UpdateStationEntry"></a><a name="Topic77"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">UpdateStationEntry</div>
 <div id="NDPrototype77" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">UpdateStationEntry = <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">index,</td></tr><tr><td class="PName first last">entry</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Update the free text field in station log.</p><pre>UpdateStationEntry(index, entry)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">index</td><td class="CDLDefinition"><p>Index in log, 1 being most recent station docked with</p></td></tr><tr><td class="CDLEntry">entry</td><td class="CDLDefinition"><p>New text string to insert instead</p></td></tr></table><div class="CHeading">Example</div><p>Replace note for the second most recent station docked with</p><pre>UpdateStationEntry(2, &quot;This was a smelly station&quot;)</pre></div>
</div>

<a name="FlightLog.GetPreviousSystemPath"></a><a name="Topic78"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">GetPreviousSystemPath</div>
 <div id="NDPrototype78" class="NDPrototype"><div class="PSection PPlainSection">GetPreviousSystemPath = <span class="SHKeyword">function</span> ()</div></div>
 <div class="CBody"><p>Returns a SystemPath object that points to the star system where the player was before jumping to this one. If none is on record (such as before any hyperjumps have been made) it returns nil.</p><pre>path = FlightLog.GetPreviousSystemPath()</pre><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">path</td><td class="CDLDefinition"><p>a SystemPath object</p></td></tr></table><div class="CHeading">Availability</div><p>alpha 20</p><div class="CHeading">Status</div><p>experimental</p></div>
</div>

<a name="FlightLog.GetPreviousStationPath"></a><a name="Topic79"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">GetPreviousStationPath</div>
 <div id="NDPrototype79" class="NDPrototype"><div class="PSection PPlainSection">GetPreviousStationPath = <span class="SHKeyword">function</span> ()</div></div>
 <div class="CBody"><p>Returns a SystemPath object that points to the starport most recently visited. If the player is currently docked, then the starport prior to the present one (which might be the same one, if the player launches and lands in the same port). If none is on record (such as before the player has ever launched) it returns nil.</p><pre>path = FlightLog.GetPreviousStationPath()</pre><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">path</td><td class="CDLDefinition"><p>a SystemPath object</p></td></tr></table><div class="CHeading">Availability</div><p>alpha 20</p><div class="CHeading">Status</div><p>experimental</p></div>
</div>

<a name="FlightLog.GetCustomEntry"></a><a name="Topic80"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">GetCustomEntry</div>
 <div class="CBody"><p>Returns an iterator returning custom entries for each system the player has created a custom log entry for, backwards in turn, starting with the most recent. If count is specified, returns no more than that many entries.</p><pre>iterator = FlightLog.GetCustomEntry(count)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">count</td><td class="CDLDefinition"><p>Optional. The maximum number of entries to return.</p></td></tr></table><div class="CHeading">Return</div><table class="CDefinitionList"><tr><td class="CDLEntry">iterator</td><td class="CDLDefinition"><p>A function which will generate the entries from the log, returning one each time it is called until it runs out, after which it returns nil. Each entry consists of the system's path, date, money, location, text; 'location' being an text array with flight state and appropriate additional information.</p></td></tr></table></div>
</div>

<a name="FlightLog.UpdateCustomEntry"></a><a name="Topic81"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">UpdateCustomEntry</div>
 <div id="NDPrototype81" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">UpdateCustomEntry = <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">index,</td></tr><tr><td class="PName first last">entry</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Update the free text field with new entry. Allows the player to change the original text entry.</p><pre>FlightLog.GetCustomEntry(index, entry)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">index</td><td class="CDLDefinition"><p>Position in log, 1 being most recent</p></td></tr><tr><td class="CDLEntry">entry</td><td class="CDLDefinition"><p>String of new text to replace the original with</p></td></tr></table><div class="CHeading">Example</div><pre>FlightLog.UpdateCustomEntry(2, &quot;Earth is an overrated spot&quot;)</pre></div>
</div>

<a name="FlightLog.DeleteCustomEntry"></a><a name="Topic82"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">DeleteCustomEntry</div>
 <div id="NDPrototype82" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">DeleteCustomEntry = <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">index</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Remove an entry.</p><pre>FlightLog.DeleteCustomEntry(index)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">index</td><td class="CDLDefinition"><p>Position in log to remove, 1 being most recent</p></td></tr></table></div>
</div>

<a name="FlightLog.MakeCustomEntry"></a><a name="Topic83"></a><div class="CTopic TFunction LLua">
 <div class="CTitle">MakeCustomEntry</div>
 <div id="NDPrototype83" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters">MakeCustomEntry = <span class="SHKeyword">function</span> (</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">text</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Create a custom entry. A set of information is automatically compiled, in a header.</p><pre>FlightLog.MakeCustomEntry(text)</pre><div class="CHeading">Header</div><table class="CDefinitionList"><tr><td class="CDLEntry">path</td><td class="CDLDefinition"><p>System path, pointing to player's current sytem</p></td></tr><tr><td class="CDLEntry">time</td><td class="CDLDefinition"><p>Game date</p></td></tr><tr><td class="CDLEntry">money</td><td class="CDLDefinition"><p>Financial balance at time of record creation</p></td></tr><tr><td class="CDLEntry">location</td><td class="CDLDefinition"><p>Array, with two strings: flight state, and relevant additional string</p></td></tr><tr><td class="CDLEntry">manual entry</td><td class="CDLDefinition"><p>Free text string</p></td></tr></table><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">text</td><td class="CDLDefinition"><p>Text to accompany the log</p></td></tr></table></div>
</div>

<a name="FlightLog.Attributes"></a><a name="Topic84"></a><div class="CTopic TGroup LLua">
 <div class="CTitle">Attributes</div>
</div>

<a name="FlightLog.version"></a><a name="Topic85"></a><div class="CTopic TAttribute LLua last">
 <div class="CTitle">version</div>
 <div class="CBody"><p>Marks version of flight log, can be used for non-breaking backwards compatibility, if new features are added to FlightLog</p><div class="CHeading">Example</div><pre>if FlightLog.version &gt; 2 then<br />    FlightLog.useNewFeature()<br />end</pre></div>
</div>

</body></html>